{% extends 'base.html.twig' %}

{% block title %}Session {{ session }} {% endblock %}

{% block body %}

<div class="description">

<p class="formateur" >Formateur référent : {{ session.formateur}}</p>

<p>Date de début: {{ session.dateDebut|date("d/m/Y") }}</p>

<p>Date de fin: {{ session.dateFin|date("d/m/Y") }}</p>

<p>Nombre de places: {{ session.nbrePlaces }}</p>

<p>Nombre de places disponibles: {{ session.nbrePlaces - session.stagiaire|length}}</p>

<p>Nombre de modules: {{ session.programmes|length }}</p>
</div>

<div class="tables_description">
<table class="session_description">
<caption>Stagiaires inscrits</caption>
    <thead>
        <th>Stagiaire</th>
        <th>Désinscrire</th>
    </thead>
    <tbody>

    {% for stagiaire in session.stagiaire %}

    <tr>
        <td><a href="{{path('show_stagiaire', {id: stagiaire.id})}}">{{stagiaire}}</a></td>
        <td> </td>
    </tr>
        
    {% endfor %}
    </tbody>
</table>

<table class="session_description_right">
<caption> Programme </caption>
    <thead>
        <th>Module</th>
        <th>Catégorie</th>
        <th>Durée</th>
        <th>Déprogrammer</th>
    </thead>
    <tbody>

    {% for module in session.programmes %}

    <tr>
        <td>{{module.cours}}</td>
        <td>{{module.cours.categorie}} </td>
        <td class="duree">{{module.duree}}</td>
        <td> </td>
    </tr>
        
    {% endfor %}
    </tbody>
</table>

<table class="session_description">
<caption>Stagiaires non inscrits</caption>
    <thead>
        <th>Stagiaire</th>
        <th>Inscrire</th>
    </thead>
    <tbody>

    {% for stagiaire in stagiaires %}

    <tr>
        <td><a href="{{path('show_stagiaire', {id: stagiaire.id})}}">{{stagiaire}}</a></td>
        <td> </td>
    </tr>
        
    {% endfor %}
    </tbody>
</table>  

<table class="session_description_right">
<caption> Modules non programées </caption>
    <thead>
        <th>Module</th>
        <th>Catégorie</th>
        <th>Durée</th>
        <th>Programmer</th>
    </thead>
    <tbody>

    {% for module in cours %}

    <tr>
        <td>{{module}}</td>
        <td>{{module.categorie}} </td>
        <td><input type="text" name"duree"></input> jours </td>
        <td><input type="submit" name="submit"></input></td>
    </tr>
        
    {% endfor %}
    </tbody>
</table>


</div>


{% endblock %}